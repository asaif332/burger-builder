(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{107:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),s=r(26),i=r.n(s),o=(r(81),r(65)),j=r.n(o),d=r(113),l=r(7),b=r(28),u=r(13),O=r(38),p=r(39),h=r(49),x=r(47),g=r(75),m=r(66),f=r.n(m),v=r(21),y=r.n(v),_=function(e){Object(h.a)(r,e);var t=Object(x.a)(r);function r(){return Object(O.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=Object(n.jsx)("div",{className:y.a.BreadBottom});break;case"bread-top":e=Object(n.jsxs)("div",{className:y.a.BreadTop,children:[Object(n.jsx)("div",{className:y.a.Seeds1}),Object(n.jsx)("div",{className:y.a.Seeds2})]});break;case"meat":e=Object(n.jsx)("div",{className:y.a.Meat});break;case"cheese":e=Object(n.jsx)("div",{className:y.a.Cheese});break;case"salad":e=Object(n.jsx)("div",{className:y.a.Salad});break;case"bacon":e=Object(n.jsx)("div",{className:y.a.Bacon})}return e}}]),r}(a.Component),B=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(g.a)(Array(e.ingredients[t])).map((function(e,r){return Object(n.jsx)(_,{type:t},t+r)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t="Add Some Ingredients"),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{children:["Total price - $",e.price]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:f.a.Burger,children:[Object(n.jsx)(_,{type:"bread-top"}),t,Object(n.jsx)(_,{type:"bread-bottom"})]})]})},k=r(67),C=r.n(k),N=r(69),S=r(109),A=r(68),I=r.n(A),T=function(e){return Object(n.jsxs)(N.a,{className:I.a.BurgerControl,children:[Object(n.jsx)("p",{children:e.ingredient.title}),Object(n.jsx)("p",{}),Object(n.jsxs)("p",{children:[Object(n.jsx)(S.a,{variant:"success",size:"sm",onClick:e.increase,children:"more"}),Object(n.jsx)(S.a,{variant:"danger",size:"sm",onClick:e.decrease,children:"less"})]})]})},w=r(110),L=[{title:"Cheese",type:"cheese"},{title:"Meat",type:"meat"},{title:"Bacon",type:"bacon"},{title:"Salad",type:"salad"}],P=function(e){return Object(n.jsxs)("div",{className:C.a.BurgerControls,children:[Object(n.jsx)(w.a,{children:L.map((function(t){return Object(n.jsx)(T,{ingredient:t,increase:function(){return e.increase(t.type)},decrease:function(){return e.decrease(t.type)}},t.type)}))}),Object(n.jsx)("hr",{}),Object(n.jsx)(S.a,{variant:"info",onClick:e.handleOpen,children:"Proceed to checkout"})]})},F=r(111),E=r(72),M=r(114);var G=c.a.memo(Object(l.f)((function(e){return console.log("burger summary"),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(M.a,{show:e.data.summary,onHide:e.handleClose,backdrop:"static",keyboard:!1,centered:!0,children:[Object(n.jsx)(M.a.Header,{closeButton:!0,children:Object(n.jsx)(M.a.Title,{children:"Burger Summary"})}),Object(n.jsx)(M.a.Body,{children:Object(n.jsxs)(w.a,{variant:"flush",children:[Object.keys(e.data.ingredients).map((function(t){return Object(n.jsxs)(w.a.Item,{className:"d-flex",children:[Object(n.jsx)("span",{className:"text-capitalize",children:t})," ",Object(n.jsx)("span",{className:"flex-grow-1"}),"  ",e.data.ingredients[t]]},t)})),Object(n.jsxs)(w.a.Item,{className:"d-flex",children:[Object(n.jsx)("span",{className:"text-capitalize",children:"Total price"})," ",Object(n.jsx)("span",{className:"flex-grow-1"}),"  $",e.data.price]},"price")]})}),Object(n.jsxs)(M.a.Footer,{children:[Object(n.jsx)(S.a,{variant:"secondary",onClick:e.handleClose,children:"Close"}),Object(n.jsx)(S.a,{variant:"primary",onClick:function(){if(0==e.data.price)alert("Please add some ingredients first!");else{var t=[];for(var r in e.data.ingredients)t.push(r+"="+e.data.ingredients[r]);t.push("price="+e.data.price),e.history.push("/checkout?"+t.join("&"))}},children:"Order"})]})]})})})),(function(e,t){return e.data.summary===t.data.summary})),z={meat:10,bacon:7.5,salad:6,cheese:14},H=function(e){Object(h.a)(r,e);var t=Object(x.a)(r);function r(){var e;Object(O.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={ingredients:{salad:0,meat:0,cheese:0,bacon:0},price:0,summary:!1},e.increase=function(t){var r=Object(u.a)(Object(u.a)({},e.state.ingredients),{},Object(b.a)({},t,e.state.ingredients[t]+1));e.setState((function(e){return{ingredients:r,price:e.price+z[t]}}))},e.decrease=function(t){if(e.state.ingredients[t]>0){var r=Object(u.a)(Object(u.a)({},e.state.ingredients),{},Object(b.a)({},t,e.state.ingredients[t]-1));e.setState((function(e){return{ingredients:r,price:e.price-z[t]}}))}},e}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(F.a,{children:[Object(n.jsx)(E.a,{lg:6,children:Object(n.jsx)(B,{price:this.state.price,ingredients:this.state.ingredients})}),Object(n.jsx)(E.a,{lg:6,children:Object(n.jsx)(P,{increase:this.increase,decrease:this.decrease,handleOpen:function(){return e.setState({summary:!0})}})})]}),Object(n.jsx)(G,{data:this.state,handleClose:function(){return e.setState({summary:!1})}})]})}}]),r}(c.a.Component),U=r(73),D=r(32),J=r(74),K=r.n(J).a.create({baseURL:"https://fir-f0f31.firebaseio.com/"}),$=r(119),Q=r(115),R=r(112);var X=function(e){return Object(n.jsx)("div",{className:"text-left col-sm-8 mx-auto mt-4",children:Object(n.jsx)($.a,{children:Object(n.jsx)($.a.Body,{className:"pb-0",children:Object(n.jsxs)(Q.a,{onSubmit:function(t){console.log("submit"),t.preventDefault(),e.makeOrder()},children:[Object(n.jsxs)(Q.a.Group,{children:[Object(n.jsx)(Q.a.Label,{children:"Your name :"}),Object(n.jsx)(Q.a.Control,{onChange:e.handleInput,name:"name"})]}),Object(n.jsxs)(Q.a.Group,{children:[Object(n.jsx)(Q.a.Label,{children:"Phone :"}),Object(n.jsx)(Q.a.Control,{onChange:e.handleInput,type:"number",name:"phone"})]}),Object(n.jsxs)(Q.a.Group,{children:[Object(n.jsx)(Q.a.Label,{children:"Address :"}),Object(n.jsx)(Q.a.Control,{onChange:e.handleInput,as:"textarea",rows:"2",name:"address"})]}),Object(n.jsx)(Q.a.Group,{className:"text-center",children:Object(n.jsx)(S.a,{variant:"success",type:"submit",className:"px-3",disabled:e.isLoading,children:e.isLoading?Object(n.jsx)(R.a,{animation:"grow"}):"Make order"})})]})})})})};var Y=Object(l.f)((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"No Ingredients Added ?"}),Object(n.jsx)(S.a,{variant:"info",onClick:function(){return e.history.replace("/")},children:"go back"})]})}));var q=Object(l.f)((function(e){var t=Object(a.useState)({ingredients:{},price:0}),r=Object(D.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)({}),o=Object(D.a)(i,2),j=o[0],d=o[1],l=Object(a.useState)(!1),O=Object(D.a)(l,2),p=O[0],h=O[1];return Object(a.useEffect)((function(){var t,r=new URLSearchParams(e.location.search),n={},a=0,c=Object(U.a)(r);try{for(c.s();!(t=c.n()).done;){var i=t.value;"price"==i[0]?a=i[1]:+i[1]>0&&(n[i[0]]=+i[1])}}catch(o){c.e(o)}finally{c.f()}s({ingredients:n,price:a})}),[]),Object(a.useEffect)((function(){console.log("user data",j)})),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(E.a,{lg:"6",children:Object(n.jsx)(B,{price:c.price,ingredients:c.ingredients})}),Object(n.jsx)(E.a,{lg:"6",children:0==Object.keys(c.ingredients).length?Object(n.jsx)(Y,{}):Object(n.jsx)(X,{isLoading:p,makeOrder:function(){if(0!=Object.keys(c).length){var t=!0;for(var r in j)if(""==j[r].trim()){t=!1;break}if(t)if(10==j.phone.length){var n=Object(u.a)(Object(u.a)({},c),{},{user:j});h(!0),K.post("orders.json",n).then((function(t){e.history.replace("/my-orders")})).catch((function(e){console.log("err",e),h(!1)}))}else alert("Phone entered is invalid!!");else alert("Please enter all fields !!")}else alert("Please make burger first !!")},handleInput:function(e){d(Object(u.a)(Object(u.a)({},j),{},Object(b.a)({},e.target.name,e.target.value)))},user:j})})]})})),V=r(116);var W=function(e){var t=Object(a.useState)([]),r=Object(D.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){K.get("/orders.json",{}).then((function(e){var t=[];if(200==e.status){var r=e.data;for(var n in r)t.push(Object(u.a)(Object(u.a)({},r[n]),{},{id:n}));console.log("orders",t),s(t)}})).catch((function(e){console.log("err",e)}))}),[]),Object(n.jsx)("div",{className:"text-left",children:Object(n.jsx)(V.a,{children:c.map((function(e,t){return Object(n.jsxs)($.a,{children:[Object(n.jsx)($.a.Header,{children:Object(n.jsx)(V.a.Toggle,{as:S.a,variant:"link",className:"text-dark",eventKey:t+1,children:e.user.name+" "+e.id})}),Object(n.jsx)(V.a.Collapse,{eventKey:t+1,children:Object(n.jsxs)($.a.Body,{children:[Object(n.jsxs)("p",{children:["Phone : ",e.user.phone]}),Object(n.jsxs)("p",{children:["Address : ",e.user.address]}),Object(n.jsxs)("p",{children:[" Ingredients : ",JSON.stringify(e.ingredients)]}),Object(n.jsxs)("p",{children:["Total price : $",e.price]})]})})]},e.id)}))})})},Z=r(117),ee=r(118),te=r(22),re=function(e){return Object(n.jsxs)(Z.a,{expand:"sm",variant:"dark",bg:"info",fixed:"top",children:[Object(n.jsx)(Z.a.Brand,{href:"/",children:"Burger"}),Object(n.jsx)(Z.a.Toggle,{"aria-controls":"mynavbar"}),Object(n.jsx)(Z.a.Collapse,{id:"mynavbar",children:Object(n.jsx)(ee.a,{className:"ml-auto",children:Object(n.jsx)(te.b,{to:"/my-orders",className:"text-white",children:"my orders"})})})]})},ne=function(e){return Object(n.jsxs)(d.a,{fluid:!0,children:[Object(n.jsx)(re,{}),Object(n.jsx)("div",{style:{marginTop:"54px"}}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/checkout",component:q}),Object(n.jsx)(l.a,{path:"/my-orders",component:W}),Object(n.jsx)(l.a,{path:"/",component:H})]})]})};var ae=function(){return Object(n.jsx)("div",{className:j.a.App,children:Object(n.jsx)(te.a,{children:Object(n.jsx)(ne,{})})})},ce=(r(106),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,120)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))});i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(ae,{})}),document.getElementById("root")),ce()},21:function(e,t,r){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__1bAcQ",BreadTop:"BurgerIngredient_BreadTop__2TBUg",Seeds1:"BurgerIngredient_Seeds1__3mn6W",Seeds2:"BurgerIngredient_Seeds2__1rBE0",Meat:"BurgerIngredient_Meat__1sheU",Cheese:"BurgerIngredient_Cheese__3q80i",Salad:"BurgerIngredient_Salad__3VLiK",Bacon:"BurgerIngredient_Bacon__1GEly"}},65:function(e,t,r){e.exports={App:"App_App__1PfvE","App-logo":"App_App-logo__27koY","App-logo-spin":"App_App-logo-spin__dHX6y","App-header":"App_App-header__eXGQ9","App-link":"App_App-link__3I0M1"}},66:function(e,t,r){e.exports={Burger:"Burger_Burger__3AjCM"}},67:function(e,t,r){e.exports={BurgerControls:"BurgerControls_BurgerControls__2diD0"}},68:function(e,t,r){e.exports={BurgerControl:"BurgerControl_BurgerControl__2kvFE"}},81:function(e,t,r){}},[[107,1,2]]]);
//# sourceMappingURL=main.795fd7d7.chunk.js.map